<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>The rise of the PokemonGo Dev Community - Benjamin Henshall</title>
	<link rel="stylesheet" href="../stylesheets/screen.css">
	<link rel="icon" href="../images/computer.png">
	<link href='http://fonts.googleapis.com/css?family=Lato:100,300,400' rel='stylesheet' type='text/css'>

	<!--Google analytics-->
	<script>
	  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	  })(window,document,'script','https://www.google-analytics.com/analytics.js','ga');

	  ga('create', 'UA-83011840-1', 'auto');
	  ga('send', 'pageview');

	</script>

</head>
<body>

	<header class="primary-header container group">
		<h1 class="logo">
			<a href="../index.html">Benjamin Henshall</a>
		</h1>
		<h3 class="tagline">
			<a target="_blank" href="https://github.com/Ben-Henshall">
				<img class="iconimg" src="../images/GitHub icon.png"></img>&nbsp;&nbsp;&nbsp;
			</a>
			<a target="_blank" href="https://www.linkedin.com/in/benjamin-henshall">
				<img class="iconimg" src="../images/LinkedIn icon.png"></img>
			</a>
		</br>
	</br>
	iOS Developer</h3>
	<nav class="nav primary-nav">
		<ul>
			<li><a href="../index.html">Home</a></li><!--
	--><li><a href="../about.html">About Me</a></li><!--
	--><li><a href="../portfolio.html">Portfolio</a></li><!--
	--><li><a href="../cv.html">CV</a></li><!--
	--><li class="selected-page"><a href="../blog.html">Blog</a></li><!--
	--><li><a href="../contact.html">Contact</a></li>
</ul>
</nav>

</header>

<section class="row-alt">
	<div class="lead container">

		<h1 text-align="center">Blog</h1>

	</div>
</section>

<section class="row">
	<div class="container blog-entry">
		<h1>TODO</h1></br>
		<h1>TODO</h1></br>
		<h1>TODO</h1></br>
		<h1>TODO</h1></br>
		<h1>TODO</h1></br>

		<p class="blog-tagline">PokemonGo is a free-to-play, location-based augmented reality game developed by <a target="_blank" href="https://www.nianticlabs.com/">Niantic</a> for iOS and Android devices, released in July 2016 with a slow release schedule around the globe.</p>
	</br></br>
	<p>First off, I'd like to clarify: I do not condone the use of third party tools for PokemonGo as they break the terms of service. I personally use a scanner (Described later) as I feel the game is unfairly balanced for players outsid eof large cities. I definitely do not condone spoofing or botting, and if you do either of these, you should feel bad.</p>
</br></br>
<p>With the disclaimer out of the way, I'll say it. I love PokemonGo. It's the perfect blend of fresh gameplay with the nostalgia of a well known IP. It's not without it's problems, though. The game has become increasingly frustrating to play due to a combination of terrible changes and lack of communication.</p>
<p>When the game first launched, I'd argue the core gameplay was at its best. It included an in-game tracker that allowed users to track down exactly where rare pokemon were quickly, provided they were in the sightings list (Around 500 meters)</p></br>
<div class="grid">
	<div class="col-1-3">
		<figure>
			<img id="sightings-image" src="../images/pokemon-footprints.png"></img>
			<figcaption><h5>Original sightings list</h5></figcaption>
		</figure>
	</div>
	<div class="col-2-3">
		<p>It's easy to see why this system was so appealing. You notice a rare Pokemon on the sightings list, then wander in certain directions until the distance changes, allowing you to triangulate exactly where the Pokemon is.</p></br>
		<p>During this early period, server issues plagued the game, often only having ~60% uptime - likely an effect caused by the insane popularity of the game. Just before the official UK launch, the footstep tracking system suddenly broke. The number of footsteps remained forever at three, making it much harder to track down. It's estimated that this was to try and combat the server issues, as the distance of the Pokemon to the user would have to be calculated serverside and would likely take a large amount of resources.</p></br>
		<p>This "bug" caused an uproar in the PokemonGo community. The only way you could really catch Pokemon was by walking around until you happen across it. People experimented with triangulating by watching to see when the Pokemon dropped off of the sightings list, but this didn't work due to the Pokemon not being removed from the sightings list. Only by closing the app would the list be cleared. You could travel from London to Manchester and still have Pokemon from London in your sightings.</p></br>
		<p>The lack of any direction to reach Pokemon prompted people to find other ways of finding these Pokemon - and so the dev community excelled...
		</div>
	</div>
</br>
<p>The most important discovery in the developer community for PokemonGo was that of the API. GitHub user <a href="https://github.com/Mila432" target="_blank">Mila432</a> (Project recently removed because of a cease and desist letter) reverse engineered the game and discovered the use of an internal API by Niantic. He then developed a publicly accessible version, which used the official Niantic servers to make calls as if you were a normal user, but without the need to actually use a mobile device or use the games UI.</p></br>
<p>This included functionality to retrieve Pokemon co-ordinates, find local Pokestops, catch Pokemon and lots of other things. This really opened the door for a ton of third party tools, some more sinister than others. The largest projects were "scanners", which allowed players to find Pokemon across their whole city through a web browser.</p></br>

<figure>
	<img id="pokevision-map" src="../images/pokevision-map.jpg"></img>
	<figcaption><h5><a target="_blank" href="https://pokevision.com/">https://pokevision.com/</a></h5></figcaption>
</figure>
</br>
<p>I'll explain briefly HOW these scanners work. You create a large amount of Pokemon accounts, then use these to repeatedly log into the servers at differing locations to check for Pokemon. Any pokemon found are added to the database, which are then displayed using some front-end system. The issue with this method of finding Pokemon is the scan range is only ~70 meters. When I was scanning across my whole city (186km squared or thereabouts), I was using upwards of 200 accounts, each logging in and scanning every 10-15 seconds. I've heard stories of people using upwards of 5000+ accounts for some services. As you can guess, this is a huge drain on the Niantic servers.</p></br>
<p>The biggest online service was likely Pokevision (Pictured above). At its peak, it was costing them more than $500 per day for the maps licensing. The service gained 1.2 million Twitter followers in less than 3 weeks. On July 31st, they shutdown due to pressure from Niantic and Nintendo.</p>
<p>With the lack of a good replacement for Pokevision, players (including me), began to look at privately hosted map services, with the most popular options being <a target="_blank" href="https://github.com/PokemonGoMap/PokemonGo-Map">PokemonGo-map</a> and <a target="_blank" href="https://github.com/modrzew/pokeminer/">Pokeminer</a>. Both tried to achieve different objectives - Pokeminer was more suited towards mass analysis of Pokemon spawnpoints over large areas. It included heatmap data from you scans (Which is how I created a list of "nests" for my local city, found <a target="_blank" href="http://imgur.com/a/MWVmx">here</a>). It's easy to use with large amounts of accounts (200+) and didn't have many issues. I originally used this to create city-wide alerts for rare pokemon using a <a href="https://twitter.com/PokeStoke" target="_blank">Twitter</a> and <a target="_blank" href="https://www.facebook.com/PokeStoke/">Facebook</a> bot</p></br>
<p>PokemonGo-Map, on the otherhand, was the much more publicly accepted homew scanner solution. It was trending on GitHub for several days. Although difficult to get working with multiple accounts originally, it has developed into a huge project with many optimisations added. The front-end is much higher quality than Pokeminer, and was generally easier to set up with MySQL.</p>
<figure>
	<img id="scanned-locs" src="../images/scanned-locs.png"></img>
	<figcaption><h5>What the TBTerra algorithm looks like in practice. </br>Normally the circles would be spiralled outward.</h5></figcaption>
</figure>
</br>
<p>The absolute biggest of these optimisations was by reddit user <a target="_blank" href="https://www.reddit.com/user/TBTerra/">TBTerra</a>. It had been found that each spawnpoint had a specific time at which a random pokemon spawned at each hour, such as 11 minutes 55 seconds past every hour. This meant that instead of repeatedly scanning areas where pokemon might not be, we could scan a spawnpoint just after the pokemon should have spawned. This does require a list of spawnpoints, but this is fairly easy to extract from running the program normally and extracted using a simple SQL query to get a JSON file of all spawns. This new method worked incredibly, reducing the amount of accounts needed to efficiently scan a 186km squared area from 200+ accounts to only 15! It would seem all the issues surrounding scanners are solved, right? Low impact on the server, low complexity scanning systems, easy installation.</p></br>
<p>But alas, Niantic continued to brigade against the use of scanners. They introduced IP bans, where if x number of requests are made from a single IP within y time, the API would send back empty objects, as if nothing nearby was found. After this, they started permanently banning scanning accounts, as well as added captchas to the account creation process, preventing the mass creation of accounts for scanning.</p></br></br></br>
<p>So where do we go from here? There are several options from what I can see:</p></br>
<ol>
	<li><p><strong>Niantic optimize their API and make it an official, public API.</strong></br>
		This would give them a chance to prevent the high server load and possibly close off the API from bots. They tried to prevent unofficial access with <a target="_blank" href="https://www.reddit.com/r/IAmA/comments/4wi5uw/ama_request_pkmngodev_team_who_reverse_engineered/">Unknown 6</a> which I didn't cover here, but it didn't last long.
	</p></li></br>
	<li><p><strong>A crowdsourced, decentralized PokemonGo-Map.</strong></br>
		Essentially, have a VPS running an application server, where users use a modified scanning client and submit locations of rare pokemon back to the application server. You could gather a community of local players, give them the client (In which they make all the API calls, with their own accounts) that scans locations given to them by the main server. As long as the clients are listening to the server, they would be able to effectively cover ground rather than having 3-4 people all scanning one dense area.</br>
		Accounts would be unlikely to get scanning accounts banned in this scenario too, as users would use their own small set of accounts, likely no bigger than 4-5 accounts - No IP bans with so little accounts and it's not difficult to create a new account if one gets banned.</br></br>
		Since the server would need to be open, rare pokemon finds would have to be verified server side to ensure it's not a faked pokemon. This wouldn't be load heavy, though, as it's unlikely to find more than 1-2 rare pokemon every 15 minutes over large areas.</br>
		It's also important to note that this would only work with rare pokemon, as having too many pokemon to verify would cause IP bans/account bans on the serverside of things.
	</p></li></br>
</ol>
<p>Niantic need to realize that the balance for rural areas is off, and unless they change the meta of the game from "Wander round for 30 hours until you find something rare" then people will always try and create these tools. It's better to be in control of how these systems work/ Hopefully they'll find the error of their ways until it's too late.</p>
</br>
<h2>If you'd like to see a Pokemon scanner in action, I currently have one running at <a href="http://poke.bhenshall.co.uk/">http://poke.bhenshall.co.uk/</a>. </br></h2>
	<h3>Keep in mind, this is one I'm simply hosting for a few local friends on my desktop, so uptime is not guaranteed.</h3>
</div>
</section>
</body>
</html>
